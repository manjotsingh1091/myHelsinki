{"version":3,"sources":["components/Navibar.js","helper/DateUtils.js","components/PlacesRenderer.js","components/Places.js","components/Footor.js","App.js","reportWebVitals.js","index.js"],"names":["NavBar","classes","makeStyles","theme","root","boxShadow","backgroundColor","useStyles","AppBar","className","position","Toolbar","src","alt","OpenStatus","Object","freeze","open","closed","unknown","withStyles","display","flexWrap","justifyContent","overflow","palette","background","paper","icon","color","bottomButton","margin","withTheme","places","loadedAll","isLoading","loadMore","getTitle","place","isPlaceOpen","name","fi","opening_hours","hours","weekdayId","Date","getDay","openingHours","openingHour","find","hour","weekday_id","opens","closes","opensHour","setHours","substring","closesHour","current","setSeconds","isOpeningHour","Container","GridList","cellHeight","gridList","GridListTile","cols","style","height","ListSubheader","component","map","onClick","info_url","window","openPlaceUrl","description","images","length","url","body","GridListTileBar","title","subtitle","address","location","street_address","postal_code","locality","id","Button","variant","Places","props","state","page","isError","limit","this","getPlaces","setState","a","firstIndex","lastIndex","axios","get","params","res","data","currentPlaces","slice","concat","incrementPage","Alert","severity","onClose","displayErrorBanner","Component","Footor","fullYear","getFullYear","Navbar","fixed","bg","Col","lg","React","App","useEffect","document","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7241fa6d.chunk.js","sourcesContent":["import React from 'react';\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport {AppBar, makeStyles, Toolbar} from \"@material-ui/core\"\r\n\r\nexport default function NavBar() {\r\n    const useStyles = makeStyles(theme => ({\r\n        root: {\r\n            boxShadow: \"none\",\r\n            backgroundColor: \"lightskyblue\"\r\n        }\r\n    }));\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Router>\r\n            <AppBar className={classes.root} position=\"static\">\r\n                <Toolbar>\r\n                    <img src=\"https://www.myhelsinki.fi/static/97d28d50f16a3b2b470476a601aa37c2.svg\" alt=\"myhelsinki\"/>\r\n                </Toolbar>\r\n            </AppBar>\r\n        </Router>\r\n    )\r\n}","export const OpenStatus = Object.freeze({open: \"OPEN\", closed: \"CLOSED\", unknown: \"UNKNOWN\"})\r\n\r\nexport function isOpeningHour(openingHours, weekdayId) {\r\n    if (!openingHours) {\r\n        return OpenStatus.unknown\r\n    }\r\n\r\n    if (weekdayId === 0) {\r\n        weekdayId = 7 // sunday is 0\r\n    }\r\n    const openingHour = openingHours.find(hour => hour.weekday_id === weekdayId)\r\n    if (!openingHour) {\r\n        return OpenStatus.unknown\r\n    }\r\n\r\n    let opens = openingHour.opens\r\n    let closes = openingHour.closes\r\n    if (opens && closes) {\r\n        let opensHour = new Date()\r\n        opensHour.setHours(opens.substring(0, 2), opens.substring(3, 5), 0)\r\n        let closesHour = new Date()\r\n        closesHour.setHours(closes.substring(0, 2), closes.substring(3, 5), 0)\r\n\r\n        let current = new Date()\r\n        current.setSeconds(0)\r\n        if (current > opensHour && current < closesHour) {\r\n            return OpenStatus.open\r\n        } else {\r\n            return OpenStatus.closed\r\n        }\r\n    }  else {\r\n        return OpenStatus.unknown\r\n    }\r\n}","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Container } from '@material-ui/core';\r\nimport { OpenStatus, isOpeningHour } from '../helper/DateUtils';\r\n\r\nconst styles = (theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    icon: {\r\n        color: 'rgba(255, 0, 0, 0.34)',\r\n    },\r\n    bottomButton: {\r\n        margin: '10px',\r\n    },\r\n});\r\n\r\nexport function PlacesRenderer({classes, places, isLoading, loadedAll, loadMore}) {\r\n\r\n    const getImage = (description) => {\r\n        if (description.images && description.images.length > 0) {\r\n            return (\r\n                <img src={description.images[0].url} alt={description.body} />\r\n            )\r\n        } else {\r\n            return (\r\n                <img src=\"https://cdn.pixabay.com/photo/2019/05/08/22/01/helsinki-cathedral-4189824__340.jpg\" alt={description.body} />\r\n            )\r\n        }\r\n    }\r\n\r\n    const getStreetAddress = (address) => {\r\n        return address.street_address + \", \" + address.postal_code + \", \" + address.locality\r\n    }\r\n\r\n    const getTitle = (place) => {\r\n        if (isPlaceOpen(place) === OpenStatus.unknown) {\r\n            return place.name.fi\r\n        } else {\r\n            return `[${isPlaceOpen(place)}] ${place.name.fi}`\r\n        }\r\n    }\r\n\r\n    const isPlaceOpen = (place) => {\r\n        if (!place.opening_hours || !place.opening_hours.hours) {\r\n            return OpenStatus.unknown\r\n        }\r\n\r\n        let date = new Date()\r\n        let weekdayId = date.getDay();\r\n        return isOpeningHour(place.opening_hours.hours, weekdayId)\r\n    }\r\n\r\n    const bottomButton = () => {\r\n        if (!loadedAll) {\r\n            return (\r\n                <Button variant=\"outlined\" color=\"primary\" className={classes.bottomButton} onClick={() => {loadMore()}}>Load More</Button>\r\n            )\r\n        } else {\r\n            return (\r\n                <h4>That's all the places in Helsinki!</h4>\r\n            )\r\n        }\r\n    }\r\n\r\n    const openPlaceUrl = (place) => {\r\n        if (place.info_url) {\r\n            window.open(place.info_url)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <GridList cellHeight={180} className={classes.gridList}>\r\n                <GridListTile key=\"Subheader\" cols={2} style={{ height: 'auto' }}>\r\n                    <ListSubheader component=\"div\"><h4>Places in Helsinki</h4></ListSubheader>\r\n                </GridListTile>\r\n                {places.map((place) => (\r\n                    <GridListTile key={place.id} onClick={() => {openPlaceUrl(place)}}>\r\n                        {getImage(place.description)}\r\n                        <GridListTileBar\r\n                            title={getTitle(place)}\r\n                            subtitle={<span>{getStreetAddress(place.location.address)}</span>}\r\n                        />\r\n                    </GridListTile>\r\n                ))}\r\n            </GridList>\r\n            <div>\r\n                {bottomButton()}\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(PlacesRenderer) ;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport PlacesRenderer from \"./PlacesRenderer\";\r\nimport Alert from '@material-ui/lab/Alert';\r\nexport class Places extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { page: 1,\r\n            places:[],\r\n            isLoading: false,\r\n            isError: false,\r\n            loadedAll: false,\r\n            limit: 10\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getPlaces();\r\n    }\r\n\r\n    incrementPage() {\r\n        this.setState({page: this.state.page+1})\r\n    }\r\n\r\n    async getPlaces() {\r\n        const {page, limit} =this.state;\r\n        const lastIndex= page*limit;\r\n        const firstIndex = lastIndex-limit;\r\n\r\n\r\n        if (!this.state.loadedAll && !this.state.isLoading) {\r\n            this.setState({isLoading: true, isError: false})\r\n            try {\r\n                const res = await axios.get('/api/v1/places', {\r\n                    params: {\r\n                        page: page,\r\n                        limit: limit\r\n                    }\r\n                });\r\n                const places = res.data.data;\r\n                const currentPlaces= places.slice(firstIndex,lastIndex);\r\n\r\n                this.setState({ places: this.state.places.concat(currentPlaces), isLoading: false });\r\n                if(currentPlaces.length >= 10) {\r\n                    this.incrementPage()\r\n                } else {\r\n                    this.setState({loadedAll: true})\r\n                }\r\n            } catch (err) {\r\n                this.setState({isLoading: false, isError: true})\r\n            }\r\n        }\r\n    }\r\n\r\n    displayErrorBanner() {\r\n        return (\r\n            <Alert severity=\"error\" onClose={() => {this.setState({isError: false})}}>Something is wrong, please try again!</Alert>\r\n        )\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Router>\r\n                {this.state.isError && this.displayErrorBanner()}\r\n                <PlacesRenderer places={this.state.places} isLoading={this.state.isLoading} loadedAll={this.state.loadedAll} loadMore={()=>this.getPlaces()}/>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Places;","import React from \"react\";\r\nimport {Col, Navbar} from \"react-bootstrap\";\r\n\r\nclass Footor extends React.Component {\r\n    render() {\r\n        let fullYear = new Date().getFullYear();\r\n        let sideBarStyle = {\r\n            'height': '100%',\r\n            'position': 'absolute',\r\n            'top': '0',\r\n            'right': '0'\r\n        }\r\n\r\n        return(\r\n           <Navbar fixed=\"bottom\" bg=\"dark\" variant=\"dark\">\r\n               <container>\r\n                       <Col lg={20} className=\"text-white text-muted text-sm-right\">\r\n                           <div style={sideBarStyle}>{fullYear}-{fullYear+1}, All Rights reserved by Palak</div>\r\n                       </Col>\r\n               </container>\r\n           </Navbar>\r\n        );\r\n    }\r\n}\r\nexport default Footor","import React, { useEffect } from 'react';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Navibar from './components/Navibar';\nimport Places from './components/Places';\nimport './App.css';\nimport Footor from \"./components/Footor\";\nimport 'react-app-polyfill/stable';\n\nfunction App() {\n    useEffect(() => {\n        document.title = \"MyHelsinki\";\n    });\n\n    return (\n        <Router>\n            <Navibar/>\n            <Places/>\n            <Footor/>\n        </Router>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}