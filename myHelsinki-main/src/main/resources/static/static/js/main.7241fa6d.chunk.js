(this.webpackJsonpreactjs=this.webpackJsonpreactjs||[]).push([[0],{213:function(e,t,n){},237:function(e,t,n){},443:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(48),s=n.n(r),c=(n(213),n(67)),o=n(467),l=n(469),u=n(470),d=n(6);function h(){var e=Object(o.a)((function(e){return{root:{boxShadow:"none",backgroundColor:"lightskyblue"}}}))();return Object(d.jsx)(c.a,{children:Object(d.jsx)(l.a,{className:e.root,position:"static",children:Object(d.jsx)(u.a,{children:Object(d.jsx)("img",{src:"https://www.myhelsinki.fi/static/97d28d50f16a3b2b470476a601aa37c2.svg",alt:"myhelsinki"})})})})}var j=n(141),b=n.n(j),p=n(197),g=n(107),f=n(108),O=n(111),x=n(110),v=n(198),m=n.n(v),k=n(14),y=n(473),w=n(479),L=n(475),S=n(474),C=n(471),E=n(472),P=Object.freeze({open:"OPEN",closed:"CLOSED",unknown:"UNKNOWN"});var _=Object(k.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},icon:{color:"rgba(255, 0, 0, 0.34)"},bottomButton:{margin:"10px"}}}),{withTheme:!0})((function(e){var t=e.classes,n=e.places,a=(e.isLoading,e.loadedAll),i=e.loadMore,r=function(e){return s(e)===P.unknown?e.name.fi:"[".concat(s(e),"] ").concat(e.name.fi)},s=function(e){if(!e.opening_hours||!e.opening_hours.hours)return P.unknown;var t=(new Date).getDay();return function(e,t){if(!e)return P.unknown;0===t&&(t=7);var n=e.find((function(e){return e.weekday_id===t}));if(!n)return P.unknown;var a=n.opens,i=n.closes;if(a&&i){var r=new Date;r.setHours(a.substring(0,2),a.substring(3,5),0);var s=new Date;s.setHours(i.substring(0,2),i.substring(3,5),0);var c=new Date;return c.setSeconds(0),c>r&&c<s?P.open:P.closed}return P.unknown}(e.opening_hours.hours,t)};return Object(d.jsxs)(E.a,{children:[Object(d.jsxs)(y.a,{cellHeight:180,className:t.gridList,children:[Object(d.jsx)(w.a,{cols:2,style:{height:"auto"},children:Object(d.jsx)(S.a,{component:"div",children:Object(d.jsx)("h4",{children:"Places in Helsinki"})})},"Subheader"),n.map((function(e){return Object(d.jsxs)(w.a,{onClick:function(){!function(e){e.info_url&&window.open(e.info_url)}(e)},children:[(n=e.description,n.images&&n.images.length>0?Object(d.jsx)("img",{src:n.images[0].url,alt:n.body}):Object(d.jsx)("img",{src:"https://cdn.pixabay.com/photo/2019/05/08/22/01/helsinki-cathedral-4189824__340.jpg",alt:n.body})),Object(d.jsx)(L.a,{title:r(e),subtitle:Object(d.jsx)("span",{children:(t=e.location.address,t.street_address+", "+t.postal_code+", "+t.locality)})})]},e.id);var t,n}))]}),Object(d.jsx)("div",{children:a?Object(d.jsx)("h4",{children:"That's all the places in Helsinki!"}):Object(d.jsx)(C.a,{variant:"outlined",color:"primary",className:t.bottomButton,onClick:function(){i()},children:"Load More"})})]})})),D=n(478),N=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={page:1,places:[],isLoading:!1,isError:!1,loadedAll:!1,limit:10},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.getPlaces()}},{key:"incrementPage",value:function(){this.setState({page:this.state.page+1})}},{key:"getPlaces",value:function(){var e=Object(p.a)(b.a.mark((function e(){var t,n,a,i,r,s,c,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,n=t.page,a=t.limit,r=(i=n*a)-a,this.state.loadedAll||this.state.isLoading){e.next=18;break}return this.setState({isLoading:!0,isError:!1}),e.prev=5,e.next=8,m.a.get("/api/v1/places",{params:{page:n,limit:a}});case 8:s=e.sent,c=s.data.data,o=c.slice(r,i),this.setState({places:this.state.places.concat(o),isLoading:!1}),o.length>=10?this.incrementPage():this.setState({loadedAll:!0}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),this.setState({isLoading:!1,isError:!0});case 18:case"end":return e.stop()}}),e,this,[[5,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"displayErrorBanner",value:function(){var e=this;return Object(d.jsx)(D.a,{severity:"error",onClose:function(){e.setState({isError:!1})},children:"Something is wrong, please try again!"})}},{key:"render",value:function(){var e=this;return Object(d.jsxs)(c.a,{children:[this.state.isError&&this.displayErrorBanner(),Object(d.jsx)(_,{places:this.state.places,isLoading:this.state.isLoading,loadedAll:this.state.loadedAll,loadMore:function(){return e.getPlaces()}})]})}}]),n}(a.Component),A=(n(237),n(477)),B=n(476),H=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=(new Date).getFullYear();return Object(d.jsx)(A.a,{fixed:"bottom",bg:"dark",variant:"dark",children:Object(d.jsx)("container",{children:Object(d.jsx)(B.a,{lg:20,className:"text-white text-muted text-sm-right",children:Object(d.jsxs)("div",{style:{height:"100%",position:"absolute",top:"0",right:"0"},children:[e,"-",e+1,", All Rights reserved by Palak"]})})})})}}]),n}(i.a.Component);n(238);var M=function(){return Object(a.useEffect)((function(){document.title="MyHelsinki"})),Object(d.jsxs)(c.a,{children:[Object(d.jsx)(h,{}),Object(d.jsx)(N,{}),Object(d.jsx)(H,{})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,481)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))};s.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(M,{})}),document.getElementById("root")),F()}},[[443,1,2]]]);
//# sourceMappingURL=main.7241fa6d.chunk.js.map